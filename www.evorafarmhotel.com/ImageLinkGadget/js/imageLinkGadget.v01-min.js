/*! 2019-09-05 */

var yt_players={},player={},_imageLinkGadget={showVideo:function(e,t){var a,l,i,s,r=document.getElementById(e),n=r.parentNode,o=r.className,y=r.name,p=document.createElement("div"),d=r.getAttribute("href");if(a='height="'+(m=parseInt(r.getAttribute("height")))+'"',m<(c=parseInt(r.getAttribute("width")))){var m=Math.round(c/16*9);a='width="'+c+'" height="'+m+'"'}else{var c=16*m/9;a='width="'+c+'" height="'+m+'"'}var u="on";"mute"==y&&(u="off"),s='<div class="inlinePlayer" name="'+o+'"><span name="'+e+'" class="btn_vol mb_YTPMuteUnmute ytpicon '+u+'"></span></div>',$("#"+e).closest(".imagelinkgadget").prepend(s),(l=$("#"+e).closest(".wrapper")).attr("href")&&(i='<a href="'+l.attr("href")+'" target="'+l.attr("target")+'" style="position:absolute; top:0; left:0; display:inline-block; width:100%; height:100%; z-index:5;"></a>',$("#"+e).closest(".wrapper").append(i)),p.innerHTML='<iframe id="'+e+'" name="'+e+'" title="'+u+'" class="'+o+'" '+a+' src="'+d+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';var f=p.childNodes[0];n.replaceChild(f,r);var g=n.parentNode;if((g=g.parentNode).className+=" video2","ytplayer"==o||"ytplayerauto"==o){if("object"==typeof YT&&(yt_players[e]=new YT.Player(e)),t)var h=setInterval(function(){"undefined"!=yt_players[e]&&null!=yt_players[e]&&"function"==typeof yt_players[e].getPlayerState&&1!=yt_players[e].getPlayerState()&&(clearInterval(h),videoPlay(e,o),"mute"==y&&yt_players[e].mute())},1e3);else if("mute"==y)var v=setInterval(function(){"undefined"!=yt_players[e]&&null!=yt_players[e]&&"function"==typeof yt_players[e].getPlayerState&&1!=yt_players[e].getPlayerState()&&(clearInterval(v),yt_players[e].mute())},1e3)}else if("vmplayer"==o||"vmplayerauto"==o)if(player[e]=new Vimeo.Player(e),t)h=setInterval(function(){"undefined"!=player[e]&&(clearInterval(h),videoPlay(e,o),"mute"==y&&player[e].setVolume(0))},1e3);else if("mute"==y)v=setInterval(function(){"undefined"!=player[e]&&(clearInterval(v),player[e].setVolume(0))},1e3)}};function videoPause(e,t){"ytplayerauto"!=t&&"ytplayer"!=t||"undefined"==yt_players[e]||null==yt_players[e]||"function"!=typeof yt_players[e].getPlayerState?"vmplayerauto"!=t&&"vmplayer"!=t||player[e].pause():1==yt_players[e].getPlayerState()&&yt_players[e].pauseVideo()}function videoPlay(e,t){"ytplayerauto"!=t&&"ytplayer"!=t||"undefined"==yt_players[e]||null==yt_players[e]||"function"!=typeof yt_players[e].getPlayerState?"vmplayerauto"!=t&&"vmplayer"!=t||(player[e].play(),"off"==document.getElementById(e).title&&player[e].setVolume(0)):1!=yt_players[e].getPlayerState()&&yt_players[e].playVideo()}function onYouTubeIframeAPIReady(){$(".imgImageWrapper").each(function(){if(vclass=$(this).children("img").attr("class"),"ytplayerauto"==vclass){var e=$(this).children("img").attr("id");e&&($(this).offset().top<=$(window).scrollTop()+$(window).height()&&$(this).offset().top+$(this).outerHeight()>=$(window).scrollTop()?(_imageLinkGadget.showVideo(e,!0),$(this).closest(".imagelinkgadget").addClass("playing")):_imageLinkGadget.showVideo(e,!1))}})}$(window).load(function(){var t=!1;if($(".imgImageWrapper").each(function(){if(vclass=$(this).children("img").attr("class"),"ytplayerauto"!=vclass&&"ytplayer"!=vclass||(t=!0),"vmplayerauto"==vclass){var e=$(this).children("img").attr("id");e&&($(this).offset().top<=$(window).scrollTop()+$(window).height()&&$(this).offset().top+$(this).outerHeight()>=$(window).scrollTop()?(_imageLinkGadget.showVideo(e,!0),$(this).closest(".imagelinkgadget").addClass("playing")):_imageLinkGadget.showVideo(e,!1))}}),t){var e=document.createElement("script");e.src="../../../www.youtube.com/iframe_api.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)}}),$(".imgImageWrapper img").click(function(){var e=$(this).attr("id");e&&($(this).closest(".imagelinkgadget").addClass("playing"),_imageLinkGadget.showVideo(e,!0))}),$(document).on("click",".btn_vol",function(e){var t=$(this).attr("name"),a=$(this).parent().attr("name");$(this).hasClass("on")?("ytplayerauto"==a||"ytplayer"==a?yt_players[t].mute():"vmplayerauto"!=a&&"vmplayer"!=a||player[t].setVolume(0),$(this).removeClass("on").addClass("off")):("ytplayerauto"==a||"ytplayer"==a?yt_players[t].unMute():"vmplayerauto"!=a&&"vmplayer"!=a||player[t].setVolume(1),$(this).removeClass("off").addClass("on"))}),$(window).blur(function(){if("IFRAME"==document.activeElement.nodeName&&("ytplayerauto"==document.activeElement.className||"vmplayerauto"==document.activeElement.className)){var e=document.activeElement.id;$("#"+e).addClass("manualStop")}}),$(window).scroll(function(){$(".imgImageWrapper").each(function(){if($(this).closest(".imagelinkgadget").hasClass("video")){var e=$(this).find("iframe").attr("class");if($(this).offset().top<=$(window).scrollTop()+$(window).height()&&$(this).offset().top+$(this).outerHeight()>=$(window).scrollTop()){if("ytplayerauto"==e||"vmplayerauto"==e){var t=$(this).find("iframe").attr("id"),a=$(this).closest(".imagelinkgadget").hasClass("playing"),l=$("#"+t).hasClass("manualStop");if(t&&!a&&!l){var i=setInterval(function(){"undefined"!=t&&(clearInterval(i),videoPlay(t,e))},1e3);$(this).closest(".imagelinkgadget").addClass("playing")}}}else{t=$(this).find("iframe").attr("id"),a=$(this).closest(".imagelinkgadget").hasClass("playing");t&&a&&(videoPause(t,e),$(this).closest(".imagelinkgadget").removeClass("playing"))}}})});