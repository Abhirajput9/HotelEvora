/*! 2020-01-16 */

!function(){var u,e,t,n,i,s;for(u={byId:function(e){return YAHOO.util.Dom.get(e)},query:function(){return YAHOO.util.Selector.query.apply(window,arguments)},addClass:function(e,t){return YAHOO.util.Dom.addClass(e,t)},hasClass:function(e,t){return YAHOO.util.Dom.hasClass(e,t)},removeClass:function(e,t){return YAHOO.util.Dom.removeClass(e,t)},setStyle:function(e,t,n){return YAHOO.util.Dom.setStyle(e,t,n)},isNull:function(e){return null===e},isArray:function(e){return YAHOO.lang.isArray(e)},isObject:function(e){return"object"==typeof e&&!u.isArray(e)&&!u.isNull(e)},later:function(e,t,n,i,s){return YAHOO.lang.later(e,t,n,i,s)},jsonEncode:function(e){return YAHOO.lang.JSON.stringify(e)},connect:function(e,t,n,i){var s,a,o;if(u.isObject(i))for(s in i)i.hasOwnProperty(s)&&(a=i[s],u.isObject(a)||u.isArray(a)?o+="&"+s+"="+u.jsonEncode(a):o+="&"+s+"="+a);else o=i;return YAHOO.util.Connect.asyncRequest(e,t,n,o)},addEvent:function(e,t,n,i,s){return YAHOO.util.Event.addListener(e,t,n,i,s)},removeEvent:function(e,t,n){return YAHOO.util.Event.removeListener(e,t,n)},CreateEvent:function(e,t){return new YAHOO.util.CustomEvent(e,t)},createNode:function(e,t,n){var i,s=document.createElement(e);for(i in n=u.byId(n),t)t.hasOwnProperty(i)&&(s[i]=t[i]);return n?n.appendChild(s):s},Animation:function(e,t,n,i){return n=n||1,i=i||null,new YAHOO.util.Anim(e,t,n,i)},Easing:YAHOO.util.Easing,xmlGet:function(e,t,n){var i;return!!t&&(0!==(i=t.getElementsByTagName(e)).length&&(n?i[0]:i))},xmlGetText:function(e,t){var n=u.xmlGet(e,t,!0);return n?n.childNodes[0].nodeValue:null}},(e=function(e){this.cfg={},this.cfg.loadingImagePath="../css/bin/loading_images.png",this.timer=null,this.isRendered=!1,this.images=[],this.nodes={},this.nodes.domNode=u.byId(e),this.events={onReadXML:new u.CreateEvent("onReadXML"),onLoad:new u.CreateEvent("onLoad"),onRender:new u.CreateEvent("onRender"),onImageLoad:new u.CreateEvent("onImageLoad"),onTransitionStart:new u.CreateEvent("onTransitionStart"),onTransitionEnd:new u.CreateEvent("onTransitionEnd"),onImageShow:new u.CreateEvent("onImageShow"),onLegendShow:new u.CreateEvent("onLegendShow")},this._init()}).prototype={_init:function(){var t=this;this.loadingImageLoaded=!1,this.images.loadingImage=new Image,this._addEvents(),this.images.loadingImage.onreadystatechange=function(e){if("complete"===this.readyState||"loaded"===this.readyState){if(this.onreadystatechange=function(){},!0===t.loadingImageLoaded)return;t.loadingImageLoaded=!0,t._build()}},u.addEvent(this.images.loadingImage,"load",function(e,t){u.removeEvent(this,"load"),!0!==t.loadingImageLoaded&&(t.loadingImageLoaded=!0,t._build())},this,!1),this.images.loadingImage.src=this.cfg.loadingImagePath,this.images.loadingImage.alt="",u.later(500,this,this._forceBuild,[],!1),this.events.onLoad.fire(this)},_forceBuild:function(){this.loadingImageLoaded||(this.loadingImageLoaded=!0,this._build())},_build:function(){this.nodes.domNode&&(this.nodes.images=u.createNode("div",{className:"gcb_image"},this.nodes.domNode),this.nodes.loadingImage=u.createNode("div",{className:"gcb_image_loading"},this.nodes.images),this.nodes.loadingImage.appendChild(this.images.loadingImage),this.nodes.loadingImageOverlay=u.createNode("div",{className:"gcb_image_loading_overlay"},this.nodes.loadingImage),this.nodes.firstImage=u.createNode("div",{className:"gcb_image_current"},this.nodes.images),this.nodes.secondImage=u.createNode("div",{className:"gcb_image_next"},this.nodes.images),this.nodes.beforelegend=u.createNode("div",{className:"gcb_image_legend"},this.nodes.images),this.nodes.legend=u.createNode("div",{className:"gcb_image_legendWrapper"},this.nodes.beforelegend),this.nodes.link=u.createNode("a",{className:"gcb_image_link"},this.nodes.images),this.nodes.navigation=u.createNode("div",{className:"gcb_navigation"},this.nodes.domNode),this.nodes.previousImage=u.createNode("div",{className:"gcb_navigation_arrow previous"},this.nodes.navigation),this.nodes.paginator=u.createNode("div",{className:"gcb_navigation_paginator"},this.nodes.navigation),this.nodes.nextImage=u.createNode("div",{className:"gcb_navigation_arrow next"},this.nodes.navigation),this.nodes.thumbnails=u.createNode("ul",{className:"gcb_navigation_paginator_thumbs"},this.nodes.paginator),this.isRendered=!0,this.events.onRender.fire(this))},_addEvents:function(){this.events.onRender.subscribe(this._readXML,this,!0),this.events.onRender.subscribe(this._createAnimations,this,!0),this.events.onRender.subscribe(this._showLoading,this,!0),this.events.onReadXML.subscribe(this._loadImages,this,!0),this.events.onImageShow.subscribe(this._controller,this,!0),this.events.onReadXML.subscribe(this._addPaginator,this,!0)},_removeEvents:function(){u.removeEvent(window,"load",this._readXML)},_readXML:function(){var e,t,n;(e=u.query("meta[name=bannerXML]","",!0))&&(t=e.getAttribute("content"),n={scope:this,timeout:3e3,success:this._parseXML,failure:function(){}},u.connect("GET",t,n,""))},_parseXML:function(e){var t,n,i,s,a,o,r,d,g,l,h,m,c;if(imgs=[],nimgs=[],start=0,t=e.responseXML,(l=u.xmlGet("details",t,!0))&&l.getAttribute("expositiontime"))if(this.nodes.domNode=this.nodes.domNode||u.query(".gcb_container","",!0),this.nodes.domNode){for(this.nodes.domNode.className=this.nodes.domNode.className?this.nodes.domNode.className+" gcb_container_sized":"gcb_container_sized",this.cfg.expositionTime=parseFloat(l.getAttribute("expositiontime"),10),this.cfg.transitionTime=parseFloat(l.getAttribute("transitionTime"),10),this.cfg.transitionType=l.getAttribute("transitionType"),m=(Selector.query("meta[name='channel']",null,!0)||Selector.query("meta[name='channel']",null,!0)).getAttribute("content"),c=Selector.query("meta[http-equiv='content-language']",null,!0)||Selector.query("meta[httpEquiv='content-language']",null,!0)?(Selector.query("meta[http-equiv='content-language']",null,!0)||Selector.query("meta[httpEquiv='content-language']",null,!0)).getAttribute("content"):Selector.query("html",null,!0).getAttribute("lang"),i=u.xmlGet(c,t),s=0,a=(n=u.xmlGet("imagem",i[0])).length;s<a;++s)(o=n[s]).isdefault&&(start=s),nimgs.push(o);for(0!==start?imgs=nimgs.slice(start).concat(nimgs.slice(0,start)):imgs=nimgs,s=0,a=imgs.length;s<a;++s)o=imgs[s],r=u.xmlGet(m,o,!0),g={path:(d=u.xmlGet("bimage",r,!0)).getAttribute("img"),legend:d.getAttribute("leg"),link:d.getAttribute("picLink"),target:d.getAttribute("linkTarget"),type:"image"},(h=u.xmlGet("legend",o,!0))&&(g.legend=h.textContent||h.text||""),g.legend.match(/(http|https):\/\/?/g)&&""===g.link&&(g.link=g.legend,g.legend="",g.target="_self"),this.images.push(g);this.events.onReadXML.fire()}else console.error("Dom node for banner gadget not found!");else this._hideGadget()},_loadImages:function(){var e,t,n,i,s=this;for(i=function(e){"complete"!==this.readyState&&"loaded"!==this.readyState||(this.onreadystatechange=function(){},s._controller())},e=0,t=this.images.length;e<t;++e)(n=this.images[e]).file=new Image,n.file.src=n.path,n.file.onreadystatechange=i,"complete"!==n.file.readyState&&"loaded"!==n.file.readyState||this._controller(),n.file.readyState||u.addEvent(n.file,"load",this._controller,this,!0)},_runTransition:function(e){this.cfg.transitionType&&this.transitions[this.cfg.transitionType]||(this.cfg.transitionType="dissolve"),this._hideLoading(),this.events.onTransitionStart.fire(),this.isAnimated=!0,u.setStyle(this.nodes.beforelegend,"opacity",0),this.nodes.legend.innerHTML=e.legend,this.transitions[this.cfg.transitionType].call(this,e)},_createAnimations:function(){this.firstImageAnimation=new u.Animation(this.nodes.firstImage,{},1e3*this.cfg.transitionTime,u.Easing.easeOut),this.secondImageAnimation=new u.Animation(this.nodes.secondImage,{},1e3*this.cfg.transitionTime,u.Easing.easeOut),this.legendAnimation=new u.Animation(this.nodes.beforelegend,{},1e3*this.cfg.transitionTime,u.Easing.easeOut),this.firstImageAnimation.onComplete.subscribe(this._fireOnTransitionEnd,this,!0),this.secondImageAnimation.onComplete.subscribe(this._fireOnTransitionEnd,this,!0)},transitions:{dissolve:function(e){var t;this.foreground=u.query(".gcb_image_current",this.nodes.domNode,!0),this.background=u.query(".gcb_image_next",this.nodes.domNode,!0),t=e.path,this._addLink(e),this.background.style.backgroundImage="url("+t+")",u.setStyle(this.background,"opacity",1),this.firstImageAnimation||this._createAnimations(),this.foreground===this.firstImageAnimation.getEl()?(this.firstImageAnimation.attributes={opacity:{to:0}},this.firstImageAnimation.animate()):(this.secondImageAnimation.attributes={opacity:{to:0}},this.secondImageAnimation.animate())}},_exposing:function(){this.timer=u.later(1e3*this.cfg.expositionTime,this,this._fireOnImageShow)},_fireOnImageShow:function(){this.isAnimated=!1,this.events.onImageShow.fire()},_showLegend:function(){this.legendAnimation.attributes={opacity:{to:1}},this.legendAnimation.animate()},_fireOnTransitionEnd:function(){this.foreground.className="gcb_image_next",this.background.className="gcb_image_current",this._showLegend(),this.events.onTransitionEnd.fire(),this._exposing()},_controller:function(){var e;this.nextImageIndex||(this.nextImageIndex=0),e=this.images[this.nextImageIndex],this.isRendered&&!this.isAnimated&&(this._runTransition(e),this._updatePaginator(this.nextImageIndex),this.nextImageIndex=(this.nextImageIndex+1)%this.images.length)},next:function(e,t){t.timer&&t.timer.cancel&&t.timer.cancel(),t._fireOnImageShow()},previous:function(e,t){t.timer&&t.timer.cancel&&t.timer.cancel(),0<=t.nextImageIndex-2?t.nextImageIndex=(t.nextImageIndex-2)%t.images.length:t.nextImageIndex=t.images.length+t.nextImageIndex-2,t._fireOnImageShow()},goTo:function(e,t){t.scope.timer&&t.scope.timer.cancel&&t.scope.timer.cancel(),t.scope.nextImageIndex=t.imageIndex%t.scope.images.length,t.scope._fireOnImageShow()},_showLoading:function(){this.nodes.loadingImage.style.display="block"},_hideLoading:function(){this.nodes.loadingImage.style.display="none"},_addPaginator:function(){var e,t,n,i;for(e=0,t=this.images.length;e<t;++e)n="",0===e&&(n="selected"),i=u.createNode("li",{className:n},this.nodes.thumbnails),this.nodes.thumbnails.appendChild(i),u.addEvent(i,"click",this.goTo,{scope:this,imageIndex:e},this,!1);u.addEvent(this.nodes.nextImage,"click",this.next,this,!1),u.addEvent(this.nodes.previousImage,"click",this.previous,this,!1)},_updatePaginator:function(e){var t,n,i=u.query("li",this.nodes.thumbnails);for(t=0,n=i.length;t<n;++t)t===e?u.addClass(i[t],"selected"):u.removeClass(i[t],"selected")},_addLink:function(e){e.link?(this.nodes.link.setAttribute("href",e.link),this.nodes.link.setAttribute("target",e.target),u.setStyle(this.nodes.link,"display","block")):(this.nodes.link.removeAttribute("href"),this.nodes.link.removeAttribute("target"),u.setStyle(this.nodes.link,"display","none"))},_hideGadget:function(){this.nodes.domNode.style.height=0,this.nodes.domNode.style.overflow="hidden"},destroy:function(){this._removeEvents()}},t=0,n=(i=u.query(".gcb_container")).length;t<n;++t)s=i[t],u.hasClass(s,"bannerImage")||new e(s)}();